[
    {
        "url": "https://www.kimi.com",
        "code": "(function() {\n  const chatItems = Array.from(document.querySelectorAll('.chat-content-item'));\n  const result = [];\n\n  chatItems.forEach(item => {\n    const isUser = item.classList.contains('chat-content-item-user');\n    const contentEl = item.querySelector('.user-content') || item.querySelector('.markdown');\n    if (!contentEl) return;\n\n    let text = '';\n    // 处理用户输入\n    if (isUser) {\n      text = contentEl.textContent.trim();\n    } else {\n      // 处理模型回答，保留结构化内容\n      const paragraphs = Array.from(contentEl.querySelectorAll('.paragraph, code, li, .segment-code-inline'))\n        .map(el => {\n          if (el.tagName === 'CODE') return `\\`\\`\\`\\n${el.textContent}\\n\\`\\`\\``;\n          if (el.classList.contains('segment-code-inline')) return `\\`${el.textContent}\\``;\n          return el.textContent;\n        });\n      text = paragraphs.join('\\n');\n    }\n\n    result.push({\n      role: isUser ? 'user' : 'assistant',\n      content: text\n    });\n  });\n\n  return JSON.stringify(result, null, 2);\n})();",
        "selector": "div[contenteditable=\"true\"]"
    },
    {
        "url": "https://www.doubao.com",
        "code": "(function() {\n    const messages = [];\n    const messageElements = document.querySelectorAll('[data-testid=\"message_content\"]');\n\n    messageElements.forEach(element => {\n        const isUser = element.closest('[data-testid=\"send_message\"]') !== null;\n        const role = isUser ? 'user' : 'assistant';\n        const contentElement = element.querySelector('[data-testid=\"message_text_content\"]');\n        const fileElement = element.querySelector('[data-testid=\"attachment_file_item\"]');\n        \n        let content = '';\n        if (contentElement) {\n            content = contentElement.textContent.trim();\n        }\n        if (fileElement) {\n            const fileName = fileElement.querySelector('[data-testid=\"message_nested_content_file_name\"]').textContent.trim();\n            const fileType = fileElement.querySelector('[data-testid=\"message_nested_content_file_subtitle\"] span').textContent.trim();\n            const fileDescription = `【文件】${fileName} (${fileType})`;\n            content += (content ? '\\n' + fileDescription : fileDescription);\n        }\n\n        messages.push({\n            role,\n            content\n        });\n    });\n\n    return messages;\n})();",
        "selector": "textarea[data-testid=\"chat_input_input\"]"
    },
    {
        "url": "https://www.qianwen.com",
        "code": "(function() {\n    const result = [];\n    const items = document.querySelectorAll('.questionItem-MPmrIl, .answerItem-SsrVa_');\n    \n    items.forEach(item => {\n        const isQuestion = item.classList.contains('questionItem-MPmrIl');\n        const contentElement = item.querySelector('.bubble-uo23is') || \n                              item.querySelector('.tongyi-markdown');\n        \n        if (contentElement) {\n            const content = contentElement.innerText.trim();\n            result.push({\n                role: isQuestion ? 'user' : 'assistant',\n                content: content\n            });\n        }\n    });\n\n    return result;\n})();",
        "selector": "textarea"
    },
    {
        "url": "https://www.wenxiaobai.com",
        "code": "(function() {\n    const messages = [];\n    const turns = document.querySelectorAll('.TurnCard_turn_container__BIcGD');\n    \n    for (const turn of turns) {\n        // 提取用户问题\n        const userContent = turn.querySelector('.Question_question_content_pre__Q3Q4I');\n        if (userContent) {\n            messages.push({\n                role: 'user',\n                content: userContent.textContent.trim()\n            });\n        }\n        \n        // 提取AI回答\n        const aiContent = turn.querySelector('.markdown-body');\n        if (aiContent) {\n            messages.push({\n                role: 'assistant',\n                content: aiContent.textContent.trim()\n            });\n        }\n    }\n    \n    return messages;\n})();",
        "selector": "textarea"
    }
]
